{% extends 'base.html' %}

{% block title %}Blogly{% endblock %}

{% block content %}

<!-- Heading for the homepage displaying recent posts -->
<h1>Blogly Recent Posts</h1>

<!-- Iterate over each post in the provided list -->
{% for post in posts %}
  <!-- Display the title of the post as a link to the post's detailed view -->
  <h2 class="mt-4">
    <a href="/posts/{{ post.id }}">{{ post.title }}</a>
  </h2>
  <!-- Display the content of the post -->
  <p>{{ post.content }}</p>
  <!-- Display information about the post's author and creation date -->
  <p>
    <small>By {{ post.user.full_name }} on {{ post.friendly_date }}</small>
  </p>

  <!-- Check if the post has associated tags -->
  {% if post.tags %}
    <!-- Display tags if they exist -->
    <p>
      <b>Tags:</b>
      <!-- Iterate over each tag associated with the post -->
      {% for tag in post.tags %}
        <!-- Create a link to the tag's detailed view with a badge -->
        <a href="/tags/{{ tag.id }}"><i class="badge badge-primary">{{ tag.name }}</i></a>
      {% endfor %}
    </p>
  {% endif %}

{% endfor %}

{% endblock %}
